---
layout: post
title: "K-theoretic and Cohomological Integral Transformations"
categories: [Category Theory]
mathjax: true
published: true
excerpt_separator: <!--more-->
---

We've discussed Fourier-Mukai transformations between derived categories and as we are mainly using the derived categories as a tool to study our objects, the interplay between the derived category and cohomology is of interest.

<!--more-->

---

<div class="definition">
Let $\mathcal{A}$ be an abelian category and let $\mathbf{F}(\mathcal{A})$ be the free abelian group generated by the set of all isomorphism classes of objects of $\mathcal{A}$. Let $\mathbf{N}(\mathcal{A})$ be the normal subgroup of $\mathbf{F}(\mathcal{A})$ generated by the elements $[A] - [B] + [C] \in \mathbf{F}(\mathcal{A})$, where
$$
0 \longrightarrow A \longrightarrow B \longrightarrow C \longrightarrow 0
$$
is an exact sequence in $\mathcal{A}$. The <i>Grothendieck group</i> of $\mathcal{A}$ is then defined to be the quotient    
$$
K_0(\mathcal{A}) := \mathbf{F}(\mathcal{A})/\mathbf{N}(\mathcal{A}).
$$
</div>

Suppose that $X$ is a smooth projective $k$-variety. Let $\mathbf{Vect}(X)$ be the full subcategory of $\mathbf{Coh}(X)$ consisting of vector bundles or equivalently locally free coherent sheaves on $X$. Note that $\mathbf{Vect}(X)$ is exact, but not abelian. The above definition makes sense for exact categories also and we have the following lemma:

<div class="lemma">
There exists a natural isomorphism
$$
K_0(\mathbf{Vect}(X)) \cong K_0(\mathbf{Coh}(X)).
$$
</div>

<div class="proof">
Consider the fully faithful functor $\iota : \mathbf{Vect}(X) \to \mathbf{Coh}(X)$. The induced homomorphism
$$
\iota_\ast : K_0(\mathbf{Vect}(X)) \to K_0(\mathbf{Coh}(X))
$$
injective and since $X$ is smooth and projective, any $\mathcal{E} \in \mathbf{Coh}(X)$ admits a finite resolution
$$
0 \longrightarrow \mathcal{E}^n \longrightarrow \mathcal{E}^{n-1} \longrightarrow \dots \longrightarrow \mathcal{E}^0 \longrightarrow \mathcal{E} \longrightarrow 0,
$$
with $\mathcal{E}_i \in \mathbf{Vect}(X)$. The map given by
$$
K_0(\mathbf{Coh}(X)) \ni [\mathcal{E}] \mapsto \sum_{i=0}^n(-1)^i[\mathcal{E}^i] \in K_0(\mathbf{Vect}(X))
$$
is independent of the choice of the resolution and a group homomorphism yielding the inverse for $\iota_\ast$.
</div>

Define now $K_0(X) := K_0(\mathbf{Coh}(X))$ and for $\mathcal{E}^\bullet \in D^b(X)$, consider

$$
[\mathcal{E}^\bullet] := \sum_i (-1)^i[\mathcal{E}^i] \in K_0(X).
$$

Now as any coherent sheaf $\mathcal{E} \in \mathbf{Coh}(X)$ admits a finite resolution by locally free coherent sheaves on $X$, any element of $K_0(X)$ can be expressed as a finite $\Bbb Z$-linear combination

$$
\sum_i a_i[\mathcal{E}^i].
$$

We can use this to equip $K_0(X)$ with a ring structure by defining

$$
[\mathcal{E}] \cdot [\mathcal{F}] = [\mathcal{E}\otimes \mathcal{F}],
$$

and extending this $\Bbb Z$-linearly over $K_0(X)$. Define a map

$$
\begin{align*}
D^b(X) &\to K_0(X) \\
\mathcal{E}^\bullet &\mapsto [\mathcal{E}^\bullet] = \sum_i(-1)^j[\mathcal{E}^j],
\end{align*}
$$

and note that 

$$
[\mathcal{E}^\bullet] = \sum_i(-1)^i[\mathcal{H}^i(\mathcal{E}^\bullet)],
$$

where $\mathcal{H}^i$ is the $i$'th cohomology sheaf. It follows that $[\mathcal{E}^\bullet] = [\mathcal{F}^\bullet]$ whenever $\mathcal{E}^\bullet \cong \mathcal{F}^\bullet$ in $D^b(X)$. Also shifting $\mathcal{E}^\bullet$ yields

$$
[\mathcal{E}^\bullet[j]] = \sum_i (-1)^i[\mathcal{E}^i[j]] =  \sum_i (-1)^i[\mathcal{E}^{i+j}] = (-1)^j[\mathcal{E}^\bullet].
$$

Direct sums give

$$
[\mathcal{E}^\bullet \oplus \mathcal{F}^\bullet] = [\mathcal{E}^\bullet] + [\mathcal{F}^\bullet]
$$

and since $X$ is smooth and projective, the derived tensor product of two complexes in $D^b(X)$ is given by the ordinary tensor product of bounded complexes of
locally free coherent sheaves on $X$ isomorphic to them. Hence $[\mathcal{E}^\bullet \overset{L}{\otimes} \mathcal{F}^\bullet] = [\mathcal{E}^\bullet] \cdot [\mathcal{F}^\bullet]$. All in all, the map $D^b(X) \to K_0(X)$ is compatible with the natural additive and multiplicative structures on both sides.

<div class="lemma">
Let $f : X \to Y$ be a morphism of smooth projective varieties. Then $f$ induces a homomorphism of their Grothendieck groups 
$$
f^\ast : K_0(Y) \to K_0(X).
$$
</div>

<div class="proof">
Let $\mathcal{E} \in \mathbf{Coh}(Y)$. Then $\widetilde{f}(\mathcal{E}) := \sum_{i\ge 0}(-1)^i[L^if^\ast \mathcal{E}]$ is an element of $\mathbf{F}(\mathbf{Coh}(X))$. Since any exact sequence
$$
0 \longrightarrow \mathcal{F} \longrightarrow \mathcal{E} \longrightarrow \mathcal{H} \longrightarrow 0
$$
in $\mathbf{Coh}(Y)$ induces a bounded long exact sequence of $\mathcal{O}_X$-modules
$$
\dots \longrightarrow L^{i+1}f^\ast \mathcal{H}  \longrightarrow L^{i}f^\ast \mathcal{F}  \longrightarrow L^{i}f^\ast \mathcal{E}  \longrightarrow L^{i}f^\ast \mathcal{H}  \longrightarrow L^{i-1}f^\ast \mathcal{F}  \longrightarrow \dots,    
$$
we conclude that $\widetilde{f}(\mathcal{E}) = \widetilde{f}(\mathcal{F}) + \widetilde{f}(\mathcal{H})$ in $K_0(X)$ and hence $\widetilde{f}$ induces a well-defined group homomorphism $f^\ast: K_0(Y) \to K_0(X)$.
</div>

<div class="lemma">
Let $f : X \to Y$ be a proper morphism of projective $k$-schemes. Then $f$ induces a homomorphism of Grothendieck groups
$$
f_! : K_0(X) \to K_0(Y).
$$
</div>

<div class="proof">
As $f$ is proper, $R^if_\ast(\mathcal{E}) \in \mathbf{Coh}(Y)$ for every $\mathcal{E} \in \mathbf{Coh}(X)$. A similar argument as in the lemma above shows that
$$
[\mathcal{E}] \mapsto \sum_{i\ge 0} (-1)^i[R^if_\ast(\mathcal{E})]
$$
yields the required group homomorphism.
</div>

Both of the maps $f^\ast : K_0(Y) \to K_0(X)$ and $f_! : K_0(X) \to K_0(Y)$ are compatible with the derived pullback and derived direct image functors so that
the diagrams:

$$
\xymatrix{
D^b(Y) \ar@{->}[r]^{Lf^\ast} \ar@{->}[d]_{[-]} & D^b(X) \ar@{->}[d]^{[-]} \\
K_0(Y) \ar@{->}[r]^{f^\ast} & K_0(X),
} \quad \xymatrix{
D^b(X) \ar@{->}[r]^{Rf_!} \ar@{->}[d]_{[-]} & D^b(Y) \ar@{->}[d]^{[-]} \\
K_0(X) \ar@{->}[r]^{f_!} & K_0(Y)
}
$$

commute. The commutativity of the square on the left-hand side is relatively easy to check. For the right-hand side, one needs the Leray spectral sequence

$$
E^{p,q}_2 := R^pf_\ast \mathcal{H}^q(\mathcal{E}^\bullet) \implies E^{p+q} := R^{p+q}f_\ast(\mathcal{E}^\bullet).
$$

<div class="definition">
The <i>$K$-theoretic integral transformation</i> is given by

$$
\begin{align*}
\Phi^K_{e} : K_0(X) &\to K_0(Y) \\
\alpha &\mapsto p_{Y!}(e \otimes p^\ast_X\alpha),
\end{align*}
$$

with kernel $e \in K_0(X\times Y)$.
</div>

The previous compatibility relations give commutativity for the diagram:

$$
\xymatrix{
D^b(X) \ar@{->}[r]^{\Phi_{\mathcal{F}}} \ar@{->}[d]_{[-]} & D^b(Y) \ar@{->}[d]^{[-]} \\
K_0(X) \ar@{->}[r]^{\Phi_{[\mathcal{F}]}} & K_0(Y).
}
$$

This is actually an instance of a more general fact. If you have an exact functor 

$$
F : D^b(X) \to D^b(Y),
$$

then $F$ induces a group homomorphism $F^K : K_0(X) \to K_0(Y)$ such that $F^K([\mathcal{E}^\bullet]) = [F(\mathcal{E}^\bullet)]$ for any $\mathcal{E}^\bullet \in D^b(X)$.

As you might expect, the we have the following proposition:

<div class="proposition">
Let $\mathcal{F} \in D^b(X \times Y)$. If the integral functor $\Phi_{\mathcal{F}} : D^b(X) \to D^b(Y)$ is an equivalence, then the induced $K$-theoretic integral transformation $\Phi^K_{[\mathcal{F}]} : K_0(X) \to K_0(Y)$ is a group isomorphism.
</div>

<div class="proof">
Since $\Phi_{\mathcal{F}}$ is an equivalence, its left and right adjoint functors are isomorphic and are quasi-inverse to $\Phi_{\mathcal{F}}$. The adjoints are both again Fourier-Mukai transforms. Now as $\Phi_{\mathcal{F}_R} \circ \Phi_{\mathcal{F}} \cong \Phi_{\mathcal{O}_{\Delta_X}}$ and $\Phi_{\mathcal{F}} \circ \Phi_{\mathcal{F}_R} \cong \Phi_{\mathcal{O}_{\Delta_Y}}$ and the induced $K$-theoretic integral transformation
$$
\Phi^K_{\mathcal{O}_{\Delta_X}} : K_0(X) \to K_0(X)
$$
is just the identity map on $K_0(X)$, we have
$$
\Phi^K_{[\mathcal{F}]} \circ \Phi^K_{[\mathcal{F}_R]} \in \operatorname{Aut}(K_0(Y)) \ \text{ and } \ \Phi^K_{[\mathcal{F}_R]} \circ \Phi^K_{[\mathcal{F}]}  \operatorname{Aut}(K_0(Y)).
$$
It follows that $\Phi^K_{[\mathcal{F}]}$ is an isomorphism.
</div>

---

Let's now see how we can get to the level of cohomology. Consider $X$ again to be a smooth projective variety over the complex numbers and denote by $H^\ast(X,\Bbb Q)$ the cohomology of the constant sheaf $\Bbb Q$. Recall that $H^\ast(X,\Bbb Q)$ has a natural ring structure and that a continuous map of compact complex manifolds $f : X \to Y$ pulls back to a ring homomorphism

$$
f^\ast : H^\ast(Y,\Bbb Q) \to H^\ast(X,\Bbb Q).
$$

Let $n = \dim X$ and $m = \dim Y$. Then Poincaré duality gives

$$
H^i(X,\Bbb Q) \cong H^{2n-i}(X,\Bbb Q)^\ast \ \text{ and } \ H^i(Y,\Bbb Q) \cong H^{2m-i}(Y,\Bbb Q)^\ast.
$$

Using this, we'll define

$$
f_\ast : H^\ast(X,\Bbb Q) \to H^{\ast+2m-2n}(Y,\Bbb Q)
$$

as the dual of $f_\ast$. This gives the following projection formula:

$$
f_\ast(f^\ast(\alpha) \cdot \beta) = \alpha \cdot f_\ast(\beta).
$$

<div class="definition">
Let $X$ and $Y$ be smooth projective varieties over $\Bbb C$. Given a cohomology class $\alpha \in H^\ast(X\times Y, \Bbb Q)$, we define the <i>cohomological integral transformation</i> as 
$$
\begin{align*}
\Phi^H_\alpha : H^\ast(X,\Bbb Q) &\to H^\ast(Y,\Bbb Q) \\
\beta &\mapsto p_{Y\ast}(\alpha \cdot p^\ast_X\beta).
\end{align*}
$$
</div>

One considers now the Chern character 

$$
\operatorname{ch} : K_0(X) \to H^\ast(X,\Bbb Q)
$$

to pass from the Grothendieck group to cohomology. However, the problem with this is that it doesn't commute with integral transformations. That is, the diagram:

$$
\xymatrix{
K_0(X) \ar@{->}[r]^{\Phi^K_\alpha} \ar@{->}[d]_{\operatorname{ch}} & K_0(Y) \ar@{->}[d]^{\operatorname{ch}} \\
H^\ast(X,\Bbb Q) \ar@{->}[r]^{\Phi^H_{\operatorname{ch}(\alpha)}} & H^\ast(X,\Bbb Q)
}
$$

need not commute. The remedy is given by the Todd class. By definition for locally free coherent sheaves $\mathcal{E}$ and $\mathcal{F}$ we have

$$
\operatorname{td}(\mathcal{E} \oplus \mathcal{F}) = \operatorname{td}(\mathcal{E}) \cdot \operatorname{td}(\mathcal{F}),
$$

and for a line bundle $L$ on $X$

$$
\operatorname{td}(L) := \frac{c_1(L)}{1-\exp(-c_1(L))}.
$$

The key now for the compatibility of these various integral transformations is the Grothendieck-Riemann-Roch formula.

<div class="theorem" text="(Grothendieck-Riemann-Roch)">
Let $f : X \to Y$ be a projective morphism of smooth projective varieties. Then for any $e \in K_0(X)$ one has
$$
\operatorname{ch}(f_!(e))\cdot \operatorname{td}(Y) = f_\ast(\operatorname{ch}(e) \cdot \operatorname{td}(X)).
$$
</div>

<div class="corollary" text="Hirzebruch-Riemann-Roch">
For any $e \in K_0(X)$ one has
$$
\chi(e) = \int_X \operatorname{ch}(e) \cdot \operatorname{td}(X)
$$
</div>

Note that $\chi(\mathcal{E}^\bullet) := \sum_i (-1)^i\chi(\mathcal{E}^i)$, for every $\mathcal{E}^\bullet \in D^b(X)$. By definition of $[-] : D^b(X) \to K_0(X)$, we have $[\mathcal{E}^\bullet[j]] = (-1)^j[\mathcal{E}^\bullet]$. Since the Chern character is additive, we obtain

$$
\operatorname{ch}(\mathcal{E}^\bullet) := \sum_i(-1)^i\operatorname{ch}([\mathcal{E}^i]).
$$

As a result, for any $\mathcal{E}^\bullet \in D^b(X)$ these give

$$
\begin{align*}
\chi(\mathcal{E}^\bullet) &= \sum_i (-1)^i\chi(\mathcal{E}^i) \\
&= \sum_i (-1)^i \int_X \operatorname{ch}([\mathcal{E}^i]) \cdot \operatorname{td}(X) \\
&= \int_X \operatorname{ch}([\mathcal{E}^\bullet]) \cdot \operatorname{td}(X).
\end{align*}
$$

<div class="definition" text="Mukai vector">
The <i>Mukai vector</i> of a class $e \in K_0(X)$ is defined to be the cohomology class

$$
v(e) := \operatorname{ch}(e)\cdot\sqrt{\operatorname{td}(X)}.
$$

</div>

In the above definition, $\sqrt{\operatorname{td}(X)}$ is given by the cohomology class whose square is $\operatorname{td}(X)$. Its existence can be deduced by using formal power series. 

<div class="corollary">
Let $X$ and $Y$ be smooth projective varieties, and let $\alpha \in K_0(X \times Y)$. Then for any $\beta \in K_0(X)$, we have
$$
\Phi^H_{v(\alpha)}\left(\operatorname{ch}(\beta)\cdot\sqrt{\operatorname{td}(X)}\right) = \operatorname{ch}(\Phi^K_\alpha(\beta))\cdot \sqrt{\operatorname{td}(Y)}.
$$
That is, the diagram:

$$
\xymatrix{
K_0(X) \ar@{->}[r]^{\Phi^K_\alpha} \ar@{->}[d]_{v} & K_0(Y) \ar@{->}[d]^{v} \\
H^\ast(X,\Bbb Q) \ar@{->}[r]^{\Phi^H_{v(\alpha)}} & H^\ast(Y,\Bbb Q)
}
$$

is commutative.
</div>

<div class="proof">
It suffices to note that the following diagram commutes

$$
\xymatrix{
K_0(X) \ar@{->}[r]^{p^\ast_X} \ar@{->}[d]_{v} & K_0(X\times Y) \ar@{->}[d]^{v(-)\cdot\left(\sqrt{\operatorname{td(Y)}}\right)^{-1}} \ar@{->}[r]^{-\alpha} & K_0(X\times Y) \ar@{->}[r]^{p_{Y!}} \ar@{->}[d]^{v(-)\cdot\sqrt{\operatorname{td(X)}}} & K_0(Y) \ar@{->}[d]^{v} \\
H^\ast(X,\Bbb Q) \ar@{->}[r]_{p^\ast_X} & H^\ast(X\times Y,\Bbb Q) \ar@{->}[r]_{-v(\alpha)} & H^\ast(X\times Y,\Bbb Q) \ar@{->}[r] & H^\ast(Y,\Bbb Q).
}
$$

The first two squares commute due to the projection formula and the last one due to the Grothendieck-Riemann-Roch formula.

</div>

A worthy remark here is that generally speaking, cohomological integral transformations do not preserve the grading or multiplicative structure of $H^\ast(-,\Bbb Q)$. What it does preserve is parity. Sending even- and odd-dimensional classes to even- and odd-dimensional classes.

There has been some arguments about the notion of the right target for the Mukai vector. Instead of the singular cohomology theory, one seems to get the grading and multiplicative structures working if they consider Hochschild cohomology theory[^1].

Similarly like we had in  <a href="https://anthonymakela.com/category%20theory/2024/08/01/the-derived-category-of-coherent-sheaves.html" style="color:#680530; text-decoration: underline;">The Derived Category of Coherent Sheaves and Fourier-Mukai Theory</a> with the composition, we have


<div class="lemma">
Let $\Phi_{\mathcal{F}} : D^b(X) \to D^b(Y)$ and $\Phi_{\mathcal{G}} : D^b(Y) \to D^b(Z)$ be two Fourier-Mukai transforms and let $\Phi_{\mathcal{E}} : D^b(X) \to D^b(Z)$ the composition. Then

$$
\Phi^H_{\mathcal{E}} = \Phi^H_{\mathcal{G}} \circ \Phi^H_{\mathcal{F}}.
$$

</div>

The proof of this is almost identical to what we did before so I will omit it. The analogous statement for $K$-theoretic integral transformations also holds due to the surjectivity of the map $D^b(X) \to K_0(X)$. However, the map $K_0(X) \to H^\ast(X,\Bbb Q)$ is not surjective in general. The image of the Mukai vector $v : K_0(X) \to H^\ast(X,\Bbb Q)$ might be very small. Surprisingly we have the following.

<div class="proposition">
If $\mathcal{E} \in D^b(X \times Y)$ defines an equivalence

$$
\Phi_{\mathcal{E}} : D^b(X) \to D^b(Y),
$$

then the induced cohomological integral transform

$$
\Phi^H_{v(\mathcal{E})} : H^\ast(X,\Bbb Q) \to H^\ast(Y, \Bbb Q)
$$

is an isomorphism of $\Bbb Q$-vector spaces.

</div>

<div class="proof">
As $\Phi_{\mathcal{F}}$ is an equivalence, we have

$$
\Phi_{\mathcal{E}_R} \circ \Phi_{\mathcal{E}} \cong \operatorname{id}_{D^b(X)} \cong \Phi_{\mathcal{O}_{\Delta_X}} 
$$

and

$$
\Phi_{\mathcal{E}} \circ \Phi_{\mathcal{E}_R} \cong \operatorname{id}_{D^b(Y)} \cong \Phi_{\mathcal{O}_{\Delta_Y}}.
$$

Then by the previous lemma,

$$
\Phi^H_{v(\mathcal{E}_R)} \circ \Phi^H_{v(\mathcal{E})} = \Phi^H_{v(\mathcal{O}_{\Delta_X})},
$$

and

$$
\Phi^H_{v(\mathcal{E})} \circ \Phi^H_{v(\mathcal{E}_R)} = \Phi^H_{v(\mathcal{O}_{\Delta_Y})}.
$$

It is thus sufficient to show that $\Phi^H_{v(\mathcal{O}_{\Delta_X})} = \operatorname{id}_{H^\ast(X,\Bbb Q)}$. For this, the Grothendieck-Riemann-Roch theorem gives 

$$
\operatorname{ch}(\mathcal{O}_{\Delta_X}) \cdot \operatorname{td}(X \times X) = \iota_\ast(\operatorname{ch}(\mathcal{O}_X) \cdot \operatorname{td}(X)) = \iota_\ast(\operatorname{td}(X)),
$$

with $\iota : X \to \Delta_X \to X \times X$ being the canonical embedding and $[\mathcal{O}_X] \in K_0(X)$. As $\iota_\ast \sqrt{\operatorname{td}(X \times X)} = \operatorname{td}(X)$, we obtain

$$
\begin{align*}
v(\mathcal{O}_{\Delta_X}) &= \operatorname{ch}(\mathcal{O}_{\Delta_X}) \cdot \sqrt{\operatorname{td}(X \times X)} \\
&= \iota_\ast(1),
\end{align*}
$$

by dividing with $\sqrt{\operatorname{td}(X\times X)}$. It follows that for any $\beta \in H^\ast(X,\Bbb Q)$, we have

$$
\begin{align*}
\Phi^H_{v(\mathcal{O}_{\Delta_X})} &= p_{2\ast}(v(\mathcal{O}_{\Delta_X}) \cdot p^\ast_1(\beta)) \\
&= p_{2\ast}(\iota_\ast(1) \cdot p^\ast_1\beta) \\
&= p_{2\ast}(\iota_\ast(1\cdot \iota^\ast p^\ast_1\beta)) \\
&= \beta
\end{align*}
$$

completing the proof.
</div>

The neat thing is that Mukai observed first that the isomorphism $\Phi^H_{v(\mathcal{E})}$ is an isometry in the case of $K3$ surfaces with respect to the so-called <i>Mukai pairing</i>, a natural quadratic form on $H^\ast(-,\Bbb Q)$. Later on, Căldăraru gave the more general definition. The Mukai-pairing is given by

$$
\langle v, v'\rangle_X := \int_X \exp\left(\frac{1}{2}c_1(X)\right) \cdot (v^\lor \cdot v),
$$

where for $v = \sum_i v_i \in \bigoplus_{i}H^i(X,\Bbb C)$, the dual $v^\lor$ is defined by $v^\lor := \sum_i (-1)^i v_i$. The idea is that if $\Phi_\mathcal{E} : D^b(X) \to D^b(Y)$ is an equivalence, then for any $\mathcal{F}^\bullet, \mathcal{G}^\bullet \in D^b(X)$ we have

$$
\operatorname{Ext}^i(\mathcal{F}^\bullet, \mathcal{G}^\bullet) \cong  \operatorname{Ext}^i(\Phi_{\mathcal{E}}(\mathcal{F}^\bullet), \Phi_{\mathcal{E}}(\mathcal{G}^\bullet))
$$

from where we get the equality

$$
\chi(\mathcal{F}^\bullet, \mathcal{G}^\bullet) = \chi(\Phi_{\mathcal{E}}(\mathcal{F}^\bullet), \Phi_{\mathcal{E}}(\mathcal{G}^\bullet)).
$$

Here $\chi(\mathcal{F}^\bullet, \mathcal{G}^\bullet) := \sum_i (-1)^i \dim_k \operatorname{Ext}^i(\mathcal{F}^\bullet, \mathcal{G}^\bullet)$.

As $X$ is smooth and projective, one can replace $\mathcal{F}^\bullet$ and $\mathcal{G}^\bullet$ with bounded complexes of locally free sheaves of $\mathcal{O}_X$-modules isomorphic to them in $D^b(X)$. Using this one shows that

$$
\chi(\mathcal{F}^\bullet,\mathcal{G}^\bullet) = \chi(X, (\mathcal{F}^\bullet)^\lor, \mathcal{G}^\bullet). 
$$

Then, utilizing the by Hirzebruch-Riemann-Roch formula, we obtain

$$
\begin{align*}
\chi(\mathcal{F}^\bullet,\mathcal{G}^\bullet) &= \chi(X, (\mathcal{F}^\bullet)^\lor, \mathcal{G}^\bullet) \\
&= \int_X \operatorname{ch}((\mathcal{F}^\bullet)^\lor) \cdot \operatorname{ch}(\mathcal{G}^\bullet) \cdot \operatorname{td}(X) \\
&= \int_X (\operatorname{ch}((\mathcal{F}^\bullet)^\lor) \cdot \sqrt{\operatorname{td}(X)}) \cdot (\operatorname{ch}(\mathcal{G}^\bullet) \cdot \sqrt{\operatorname{td}(X)}) \\
&= \int_X v((\mathcal{F}^\bullet)^\lor) \cdot v(\mathcal{G}^\bullet).
\end{align*}
$$

We now need to express $v((\mathcal{F}^\bullet)^\lor)$ in terms of $v(\mathcal{F}^\bullet)$. To do this, define first the dual of $\alpha = \sum_i \alpha_i \in \bigoplus_i H^{2i}(X,\Bbb Q)$ as $\alpha^\lor := \sum_i(-1)^i\alpha_i \in \bigoplus H^{2i}(X,\Bbb Q)$.

<div class="lemma">
We have that

$$
v((\mathcal{F}^\bullet)^\lor) = \operatorname{ch}((\mathcal{F}^\bullet)^\lor) \cdot \sqrt{\operatorname{td}(X)} = v(\mathcal{F}^\bullet)^\lor \cdot \exp\left(\frac{1}{2}c_1(X)\right).
$$

</div>

Its now natural to extend the previous definition of the dual by the following:

<div class="definition">
For $\alpha = \sum_i \alpha_i \in \bigoplus_i H^i(X,\Bbb C)$, we define its dual

$$
\alpha^\lor := \sum_i (-1)^i\alpha_i \in \bigoplus_i H^i(X,\Bbb C).
$$

</div>

<div class="definition">
The Mukai pairing on $H^\ast(X,\Bbb C)$ is a quardatic form defined by

$$
\langle \alpha,\beta\rangle_X := \int_X \exp\left(\frac{1}{2}c_1(X)\right) \cdot (\alpha^\lor \cdot \beta).
$$

</div>

In the above definition, $(\alpha^\lor \cdot \beta)$ denotes the intersection product. It follows now that

$$
\begin{align*}
\chi(\mathcal{F}^\bullet, \mathcal{G}^\bullet) &= \int_X v((\mathcal{F}^\bullet)^\lor) \cdot v(\mathcal{G}^\bullet) \\
&= \int_X v(\mathcal{F}^\bullet)^\lor \cdot \exp\left(\frac{1}{2}c_1(X)\right) \cdot v(\mathcal{G}^\bullet) \\
&= \langle v(\mathcal{F}^\bullet), v(\mathcal{G}^\bullet) \rangle.
\end{align*}
$$

Note that if $c_1(X) = 0$, then the form $\langle , \rangle_X$ is symmetric for even dimensional $X$ and alternating otherwise. So for example when $X$ is Calabi-Yau. 

<div class="proposition" text="(Căldăraru)">
Let $\Phi_{\mathcal{E}} : D^b(X) \to D^b(Y)$ be an equivalence. Then 

$$
\Phi^H_{v(\mathcal{E})} : H^\ast(X,\Bbb Q) \to H^\ast(X,\Bbb Q)
$$

is an isometry with respect to the Mukai pairing.
</div>

<div class="proof">
Since $\Phi_{\mathcal{E}}$ is an equivalence, $\operatorname{dim}(X)=\operatorname{dim}(Y)=n$. Since $\Phi_{v(\mathcal{E})}^{H}$ is a $\mathbb{Q}$-linear isomorphism, it suffices to show that,

$$
\langle\Phi_{v(\mathcal{E})}^{H}(\alpha), \beta\rangle_{Y}=\langle\alpha,(\Phi_{v(\mathcal{E})}^{H})^{-1}(\beta)\rangle_{X}, 
$$

for every $\alpha \in H^{\ast}(X, \mathbb{Q})$ and $\beta \in H^{\ast}(Y, \mathbb{Q})$. As $\Phi_{\mathcal{E}}$ is an equivalence, $\Phi_{\mathcal{E}_{L}}$ yields a quasi-inverse for $\Phi_{\mathcal{E}}$, where $\mathcal{E}_{L}=\mathcal{E}^{\vee} \otimes p_{Y}^{*}\left(\omega_{Y}\right)[n]$. Now $\left(\Phi_{v(\mathcal{E})}^{H}\right)^{-1}=\Phi_{v\left(\mathcal{E}_{L}\right)}^{H}$, and

$$
\begin{align*}
v\left(\mathcal{E}_{L}\right)=v\left(\mathcal{E}^{\vee} \otimes p_{Y}^{*} \omega_{Y}[n]\right) & =(-1)^{n} v\left(\mathcal{E}^{\vee}\right) \cdot \operatorname{ch}\left(p_{Y}^{*} \omega_{Y}\right) \\
& =(-1)^{n} v\left(\mathcal{E}^{\vee}\right) \cdot p_{Y}^{*} \exp \left(-c_{1}(Y)\right) 
\end{align*}
$$

Now using the multiplicative property of dual vectors, we have


$$
\begin{aligned}
& \left\langle\Phi_{v(\mathcal{E})}^{H}(\alpha), \beta\right\rangle_{Y} \\
& =\int_{Y} \exp \left(c_{1}(Y) / 2\right) \cdot\left(p_{Y *}\left(v(\mathcal{E}) \cdot p_{X}^{*} \alpha\right)\right)^{\vee} \cdot \beta \\
& =(-1)^{n} \int_{Y} \exp \left(c_{1}(Y) / 2\right) \cdot p_{Y *}\left(\left(v(\mathcal{E}) \cdot p_{X}^{*} \alpha\right)^{\vee}\right) \cdot \beta \\
& =(-1)^{n} \int_{X \times Y} p_{Y}^{*}\left(\exp \left(c_{1}(Y) / 2\right)\right) \cdot v(\mathcal{E})^{\vee} \cdot\left(p_{X}^{*} \alpha\right)^{\vee} p_{Y}^{*} \beta \\
& =(-1)^{n} \int_{X \times Y} p_{Y}^{*}\left(\exp \left(c_{1}(Y) / 2\right)\right) \cdot v\left(\mathcal{E}^{\vee}\right) \cdot \exp \left(-c_{1}(X \times Y) / 2\right) \cdot\left(p_{X}^{*} \alpha\right)^{\vee} p_{Y}^{*} \beta \\
& =\int_{X \times Y} p_{X}^{*} \exp \left(c_{1}(X) / 2\right) \cdot p_{X}^{*} \alpha^{\vee} \cdot v\left(\mathcal{E}_{L}\right) \cdot p_{Y}^{*} \beta \\
& =\int_{X} \exp \left(c_{1}(X) / 2\right) \cdot \alpha^{\vee} p_{X *}\left(v\left(\mathcal{E}_{L}\right) \cdot p_{Y}^{*} \beta\right) \\
& =\left\langle\alpha, \Phi_{v\left(\mathcal{E}_{L}\right)}^{H}(\beta)\right\rangle_{X}
\end{aligned}
$$

</div>

---

As an application of the theory we've been building up, we'll consider the so-called <i>Derived Torelli theorem</i> for elliptic curves. Let $C$ be a complex elliptic curve. We are trying to figure out whether we can reconstruct $C$ from $D^b(C)$. Note that since the canonical bundle $\omega_C$ is trivial, we cannot apply Bondal-Orlov here. What we are going to do is, analyze the Hodge structure under cohomological integral transformations. 

Recall that if $X$ is a smooth projective variety, then Hodge says that for $k = 0,\dots,2\dim_{\Bbb C}(X)$, we have a decomposition

$$
H^k(X,\Bbb C) = H^i(X,\Bbb Q) \otimes \Bbb C = \bigoplus_{p+q=k}H^{p,q}(X),
$$

with $\overline{H^{p,q}(X)} = H^{q,p}(X)$. Since the Chern classes are algebraic[^2], the Mukai vector factors through the algebraic part of the cohomology

$$
v :  K_0(X) \to \bigoplus_{p} H^{p,p}(X) \cap H^{2p}(X,\Bbb Q).
$$

<div class="proposition">
Let $X$ and $Y$ be smooth projective varieties. If $\Phi_\mathcal{E} : D^b(X) \to D^b(Y)$ is an equivalence, then the induced cohomological integral transformation $\Phi^H_{v(\mathcal{E})} : H^\ast(X,\Bbb Q) \to H^\ast(Y,\Bbb Q)$ yields isomorphisms

$$
\bigoplus_{p-q=k} H^{p,q}(X) \to \bigoplus_{p-q=k}H^{p,q}(Y),
$$

for each $k=0,\pm 1,\dots,\pm \dim_{\Bbb C}(X)$.

</div>

<div class="proof">
As $\Phi_\mathcal{E}$ is an equivalence, the induced map $\Phi^H_{v(\mathcal{E})} : H^\ast(X,\Bbb Q) \to H^\ast(Y,\Bbb Q)$ of rational cohomologies is an isomorphism. It suffices to show that the $\Bbb C$-linear extension obtianed by tensoring with $\Bbb C$ satisfies

$$
\Phi^H_{v(\mathcal{E})}\left(H^{p,q}(X)\right) \subset \bigoplus_{r-s=p-q}H^{r,s}(Y).
$$

Let 

$$
\sum a^{p',q'} \boxtimes \beta^{r,s},
$$

with $a^{p',q'} \in H^{p',q'}(X)$ and $\beta^{r,s} \in H^{r,s}(Y)$, be the Künneth decomposition of $v(\mathcal{E})$. Since $v(\mathcal{E})$ is algebraic, only the terms with $p'+r = q'+s$ contribute. Let $\alpha \in H^{p,q}(X)$ be such that 

$$
\Phi^H_{\mathcal{E}}(\alpha) = p_{Y\ast}(v(\mathcal{E})\cdot p^\ast_X\alpha) \in H^{r,s}(Y).
$$

We need to prove that $r-s=p-q$. Now only the terms with $(p,q)+(p',q') = (\dim(X),\dim(X))$ contribute to $\Phi^H_{\mathcal{E}}(\alpha)$ and hence $p-q=q'-p'=r-s$. Actually

$$
\Phi^H_{\mathcal{E}}(\alpha) = \sum \left(\int_X \alpha \wedge \alpha^{p',q'}\right)\beta^{r,s} \in \bigoplus_{r-s=p-q}H^{r,s}(Y).
$$

</div>

<div class="theorem">
Let $C$ be an elliptic curve and $C'$ any connected smooth projective variety. If there exists an equivalence $F : D^b(C) \to D^b(C')$, then

$$
C \cong C'.
$$

</div>

<div class="proof">
$F$ being an equivalence gives $\dim(C) = \dim(C') = 1$. Let $g(C')$ denote the genus of $C'$. If $g(C') \ne 1$, then $\omega_{C'}$ is either ample or anti-ample and so $C \cong C'$ by Bondal-Orlov, which is not possible as $C$ is an elliptic curve. It follows that $g(C') = 1$ and so $C'$ is an elliptic curve. Now Orlov's representability theorem states that there is a kernel $\mathcal{E} \in D^b(C \times C')$ such that $F \cong \Phi_{\mathcal{E}}$. Since the Mukai vector $v(\mathcal{E})$ is algebraic, the induced cohomological integral transform 

$$
\Phi^H_{v(\mathcal{E})} : H^\ast(C,\Bbb Q) \to H^\ast(C',\Bbb Q)
$$

is an isomorphism satisfying

$$
\Phi^H_{v(\mathcal{E})}(H^1(C,\Bbb Q)) = H^1(C',\Bbb Q) 
$$

and

$$
\Phi^H_{v(\mathcal{E})}(H^0(C,\Bbb Q) \oplus H^2(C,\Bbb Q)) = H^0(C',\Bbb Q) \oplus H^2(C',\Bbb Q).
$$

Now, as elliptic curves are determined by the weight $1$ Hodge structure completely, i.e. $C \cong H^{1,0}(C)^\ast / H_1(C,\Bbb Z) \cong H^{0,1}(C)/H^1(C,\Bbb Z)$, it suffices to show that the induced cohomological integral transform descends to integral cohomology. As $C$ and $C'$ are elliptic, we have

$$
\operatorname{td}(C \times C') = 1 \ \text{ and } \ \operatorname{ch}(\mathcal{E}) = r + c_1(\mathcal{E}) + \frac{1}{2}\left(c^2_1(\mathcal{E}) - 2c_2(\mathcal{E})\right).
$$

Even though $\frac{1}{2}\left(c^2_1(\mathcal{E}) - 2c_2(\mathcal{E})\right)$ may not be integral, it doesn't contribute to $H^1(C,\Bbb Q) \to H^1(C',\Bbb Q)$ and hence the result follows.

</div>

---

[^1]: I think A. Căldăraru has some papers regarding this.

[^2]: Of type $(p,p)$.